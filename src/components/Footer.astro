---
import type { NavItem } from '../data/types';
import navigation from '../data/navigation.yml';
import metadata from '../data/metadata.yml';

const { pathname } = Astro.url;
const navItems: NavItem[] = navigation;

const isExternal = (href: string) => href.startsWith('http') || href.startsWith('//');
---

<footer>
  <div>
    <p>Clouder</p>
    &copy; {new Date().getFullYear()}
  </div>
  <div>
    {
      navItems.map(({ title, href }) => (
        <a
          href={href}
          class="nav-link"
          {...(isExternal(href) && {
            target: '_blank',
            rel: 'noopener noreferrer'
          })}
        >
          {title}
        </a>
      ))
    }
  </div>
  <div>
    {
      metadata.twitter && (
        <a href={metadata.twitter} target="_blank" rel="noopener noreferrer">
          X
        </a>
      )
    }
    {
      metadata.linkedin && (
        <a href={metadata.linkedin} target="_blank" rel="noopener noreferrer">
          LinkedIn
        </a>
      )
    }
    {
      metadata.instagram && (
        <a href={metadata.instagram} target="_blank" rel="noopener noreferrer">
          Instagram
        </a>
      )
    }
    {
      metadata.youtube && (
        <a href={metadata.youtube} target="_blank" rel="noopener noreferrer">
          YouTube
        </a>
      )
    }
  </div>
</footer>

<style>
  footer {
    padding: 1rem;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
  }

  a {
    display: block;
  }
</style>
